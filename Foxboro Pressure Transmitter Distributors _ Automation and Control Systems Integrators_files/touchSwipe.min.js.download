!function(a){"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function z(b){return!b||void 0!==b.allowPageScroll||void 0===b.swipe&&void 0===b.swipeStatus||(b.allowPageScroll=h),void 0!==b.click&&void 0===b.tap&&(b.tap=b.click),b||(b={}),b=a.extend({},a.fn.swipe.defaults,b),this.each(function(){var c=a(this),d=c.data(x);d||(d=new A(this,b),c.data(x,d))})}function A(y,z){function Z(b){if(!(Ga()||a(b.target).closest(z.excludedElements,P).length>0)){var d,c=b.originalEvent?b.originalEvent:b,e=w?c.touches[0]:c;return Q=s,w?R=c.touches.length:b.preventDefault(),G=0,H=null,N=null,I=0,J=0,K=0,L=1,M=0,S=La(),O=Oa(),Ea(),!w||R===z.fingers||z.fingers===q||ma()?(Ia(0,e),T=Xa(),2==R&&(Ia(1,c.touches[1]),J=K=Ra(S[0].start,S[1].start)),(z.swipeStatus||z.pinchStatus)&&(d=ea(c,Q))):d=!1,d===!1?(Q=v,ea(c,Q),d):(Ha(!0),null)}}function $(a){var b=a.originalEvent?a.originalEvent:a;if(Q!==u&&Q!==v&&!Fa()){var c,d=w?b.touches[0]:b,e=Ja(d);if(U=Xa(),w&&(R=b.touches.length),Q=t,2==R&&(0==J?(Ia(1,b.touches[1]),J=K=Ra(S[0].start,S[1].start)):(Ja(b.touches[1]),K=Ra(S[0].end,S[1].end),N=Ta(S[0].end,S[1].end)),L=Sa(J,K),M=Math.abs(J-K)),R===z.fingers||z.fingers===q||!w||ma()){if(H=Wa(e.start,e.end),ka(a,H),G=Ua(e.start,e.end),I=Qa(),Ma(H,G),(z.swipeStatus||z.pinchStatus)&&(c=ea(b,Q)),!z.triggerOnTouchEnd||z.triggerOnTouchLeave){var f=!0;if(z.triggerOnTouchLeave){var g=Ya(this);f=Za(e.end,g)}!z.triggerOnTouchEnd&&f?Q=da(t):z.triggerOnTouchLeave&&!f&&(Q=da(u)),Q!=v&&Q!=u||ea(b,Q)}}else Q=v,ea(b,Q);c===!1&&(Q=v,ea(b,Q))}}function _(a){var b=a.originalEvent;return w&&b.touches.length>0?(Da(),!0):(Fa()&&(R=W),a.preventDefault(),U=Xa(),I=Qa(),ha()?(Q=v,ea(b,Q)):z.triggerOnTouchEnd||0==z.triggerOnTouchEnd&&Q===t?(Q=u,ea(b,Q)):!z.triggerOnTouchEnd&&ta()?(Q=u,fa(b,Q,l)):Q===t&&(Q=v,ea(b,Q)),Ha(!1),null)}function aa(){R=0,U=0,T=0,J=0,K=0,L=1,Ea(),Ha(!1)}function ba(a){var b=a.originalEvent;z.triggerOnTouchLeave&&(Q=da(u),ea(b,Q))}function ca(){P.unbind(B,Z),P.unbind(F,aa),P.unbind(C,$),P.unbind(D,_),E&&P.unbind(E,ba),Ha(!1)}function da(a){var b=a,c=ja(),d=ga(),e=ha();return!c||e?b=v:!d||a!=t||z.triggerOnTouchEnd&&!z.triggerOnTouchLeave?!d&&a==u&&z.triggerOnTouchLeave&&(b=v):b=u,b}function ea(a,b){var c=void 0;return qa()||pa()?c=fa(a,b,j):(na()||ma())&&c!==!1&&(c=fa(a,b,k)),Ba()&&c!==!1?c=fa(a,b,m):Ca()&&c!==!1?c=fa(a,b,n):Aa()&&c!==!1&&(c=fa(a,b,l)),b===v&&aa(a),b===u&&(w?0==a.touches.length&&aa(a):aa(a)),c}function fa(h,i,o){var p=void 0;if(o==j){if(P.trigger("swipeStatus",[i,H||null,G||0,I||0,R]),z.swipeStatus&&(p=z.swipeStatus.call(P,h,i,H||null,G||0,I||0,R),p===!1))return!1;if(i==u&&oa()){if(P.trigger("swipe",[H,G,I,R]),z.swipe&&(p=z.swipe.call(P,h,H,G,I,R),p===!1))return!1;switch(H){case b:P.trigger("swipeLeft",[H,G,I,R]),z.swipeLeft&&(p=z.swipeLeft.call(P,h,H,G,I,R));break;case c:P.trigger("swipeRight",[H,G,I,R]),z.swipeRight&&(p=z.swipeRight.call(P,h,H,G,I,R));break;case d:P.trigger("swipeUp",[H,G,I,R]),z.swipeUp&&(p=z.swipeUp.call(P,h,H,G,I,R));break;case e:P.trigger("swipeDown",[H,G,I,R]),z.swipeDown&&(p=z.swipeDown.call(P,h,H,G,I,R))}}}if(o==k){if(P.trigger("pinchStatus",[i,N||null,M||0,I||0,R,L]),z.pinchStatus&&(p=z.pinchStatus.call(P,h,i,N||null,M||0,I||0,R,L),p===!1))return!1;if(i==u&&la())switch(N){case f:P.trigger("pinchIn",[N||null,M||0,I||0,R,L]),z.pinchIn&&(p=z.pinchIn.call(P,h,N||null,M||0,I||0,R,L));break;case g:P.trigger("pinchOut",[N||null,M||0,I||0,R,L]),z.pinchOut&&(p=z.pinchOut.call(P,h,N||null,M||0,I||0,R,L))}}return o==l?i!==v&&i!==u||(clearTimeout(Y),ua()&&!xa()?(X=Xa(),Y=setTimeout(a.proxy(function(){X=null,P.trigger("tap",[h.target]),z.tap&&(p=z.tap.call(P,h,h.target))},this),z.doubleTapThreshold)):(X=null,P.trigger("tap",[h.target]),z.tap&&(p=z.tap.call(P,h,h.target)))):o==m?i!==v&&i!==u||(clearTimeout(Y),X=null,P.trigger("doubletap",[h.target]),z.doubleTap&&(p=z.doubleTap.call(P,h,h.target))):o==n&&(i!==v&&i!==u||(clearTimeout(Y),X=null,P.trigger("longtap",[h.target]),z.longTap&&(p=z.longTap.call(P,h,h.target)))),p}function ga(){var a=!0;return null!==z.threshold&&(a=G>=z.threshold),a}function ha(){var a=!1;return null!==z.cancelThreshold&&null!==H&&(a=Na(H)-G>=z.cancelThreshold),a}function ia(){return null===z.pinchThreshold||M>=z.pinchThreshold}function ja(){var a;return a=!z.maxTimeThreshold||!(I>=z.maxTimeThreshold)}function ka(a,f){if(z.allowPageScroll===h||ma())a.preventDefault();else{var g=z.allowPageScroll===i;switch(f){case b:(z.swipeLeft&&g||!g&&z.allowPageScroll!=o)&&a.preventDefault();break;case c:(z.swipeRight&&g||!g&&z.allowPageScroll!=o)&&a.preventDefault();break;case d:(z.swipeUp&&g||!g&&z.allowPageScroll!=p)&&a.preventDefault();break;case e:(z.swipeDown&&g||!g&&z.allowPageScroll!=p)&&a.preventDefault()}}}function la(){var a=ra(),b=sa(),c=ia();return a&&b&&c}function ma(){return!!(z.pinchStatus||z.pinchIn||z.pinchOut)}function na(){return!(!la()||!ma())}function oa(){var a=ja(),b=ga(),c=ra(),d=sa(),e=ha(),f=!e&&d&&c&&b&&a;return f}function pa(){return!!(z.swipe||z.swipeStatus||z.swipeLeft||z.swipeRight||z.swipeUp||z.swipeDown)}function qa(){return!(!oa()||!pa())}function ra(){return R===z.fingers||z.fingers===q||!w}function sa(){return 0!==S[0].end.x}function ta(){return!!z.tap}function ua(){return!!z.doubleTap}function va(){return!!z.longTap}function wa(){if(null==X)return!1;var a=Xa();return ua()&&a-X<=z.doubleTapThreshold}function xa(){return wa()}function ya(){return(1===R||!w)&&(isNaN(G)||0===G)}function za(){return I>z.longTapThreshold&&G<r}function Aa(){return!(!ya()||!ta())}function Ba(){return!(!wa()||!ua())}function Ca(){return!(!za()||!va())}function Da(){V=Xa(),W=event.touches.length+1}function Ea(){V=0,W=0}function Fa(){var a=!1;if(V){var b=Xa()-V;b<=z.fingerReleaseThreshold&&(a=!0)}return a}function Ga(){return!(P.data(x+"_intouch")!==!0)}function Ha(a){a===!0?(P.bind(C,$),P.bind(D,_),E&&P.bind(E,ba)):(P.unbind(C,$,!1),P.unbind(D,_,!1),E&&P.unbind(E,ba,!1)),P.data(x+"_intouch",a===!0)}function Ia(a,b){var c=void 0!==b.identifier?b.identifier:0;return S[a].identifier=c,S[a].start.x=S[a].end.x=b.pageX||b.clientX,S[a].start.y=S[a].end.y=b.pageY||b.clientY,S[a]}function Ja(a){var b=void 0!==a.identifier?a.identifier:0,c=Ka(b);return c.end.x=a.pageX||a.clientX,c.end.y=a.pageY||a.clientY,c}function Ka(a){for(var b=0;b<S.length;b++)if(S[b].identifier==a)return S[b]}function La(){for(var a=[],b=0;b<=5;b++)a.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return a}function Ma(a,b){b=Math.max(b,Na(a)),O[a].distance=b}function Na(a){if(O[a])return O[a].distance}function Oa(){var a={};return a[b]=Pa(b),a[c]=Pa(c),a[d]=Pa(d),a[e]=Pa(e),a}function Pa(a){return{direction:a,distance:0}}function Qa(){return U-T}function Ra(a,b){var c=Math.abs(a.x-b.x),d=Math.abs(a.y-b.y);return Math.round(Math.sqrt(c*c+d*d))}function Sa(a,b){var c=b/a*1;return c.toFixed(2)}function Ta(){return L<1?g:f}function Ua(a,b){return Math.round(Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)))}function Va(a,b){var c=a.x-b.x,d=b.y-a.y,e=Math.atan2(d,c),f=Math.round(180*e/Math.PI);return f<0&&(f=360-Math.abs(f)),f}function Wa(a,f){var g=Va(a,f);return g<=45&&g>=0?b:g<=360&&g>=315?b:g>=135&&g<=225?c:g>45&&g<135?e:d}function Xa(){var a=new Date;return a.getTime()}function Ya(b){b=a(b);var c=b.offset(),d={left:c.left,right:c.left+b.outerWidth(),top:c.top,bottom:c.top+b.outerHeight()};return d}function Za(a,b){return a.x>b.left&&a.x<b.right&&a.y>b.top&&a.y<b.bottom}var A=w||!z.fallbackToMouseEvents,B=A?"touchstart":"mousedown",C=A?"touchmove":"mousemove",D=A?"touchend":"mouseup",E=A?null:"mouseleave",F="touchcancel",G=0,H=null,I=0,J=0,K=0,L=1,M=0,N=0,O=null,P=a(y),Q="start",R=0,S=null,T=0,U=0,V=0,W=0,X=0,Y=null;try{P.bind(B,Z),P.bind(F,aa)}catch(b){a.error("events not supported "+B+","+F+" on jQuery.swipe")}this.enable=function(){return P.bind(B,Z),P.bind(F,aa),P},this.disable=function(){return ca(),P},this.destroy=function(){return ca(),P.data(x,null),P},this.option=function(b,c){if(void 0!==z[b]){if(void 0===c)return z[b];z[b]=c}else a.error("Option "+b+" does not exist on jQuery.swipe.options");return null}}var b="left",c="right",d="up",e="down",f="in",g="out",h="none",i="auto",j="swipe",k="pinch",l="tap",m="doubletap",n="longtap",o="horizontal",p="vertical",q="all",r=10,s="start",t="move",u="end",v="cancel",w="ontouchstart"in window,x="TouchSwipe",y={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"label, button, input, select, textarea, a, .noSwipe"};a.fn.swipe=function(b){var c=a(this),d=c.data(x);if(d&&"string"==typeof b){if(d[b])return d[b].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+b+" does not exist on jQuery.swipe")}else if(!(d||"object"!=typeof b&&b))return z.apply(this,arguments);return c},a.fn.swipe.defaults=y,a.fn.swipe.phases={PHASE_START:s,PHASE_MOVE:t,PHASE_END:u,PHASE_CANCEL:v},a.fn.swipe.directions={LEFT:b,RIGHT:c,UP:d,DOWN:e,IN:f,OUT:g},a.fn.swipe.pageScroll={NONE:h,HORIZONTAL:o,VERTICAL:p,AUTO:i},a.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:q}});